<!DOCTYPE html>
    <html lang="en">
        <head>
            <meta name="viewport" content="width=device-width, initial-scale=1" charset="UTF-8" />
            <!-- bootstrap css-->
            <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" 
                rel="stylesheet" 
                integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7" 
                crossorigin="anonymous">
            <link rel="stylesheet" href="style.css" />
            <!-- jQuery, Popper.js, and Bootstrap JS -->
            <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js" 
                integrity="sha384-k6d4wzSIapyDyv1kpU366/PK5hCdSbCRGRCMv+eplOQJWyd1fbcAu9OCUj5zNLiq" 
                crossorigin="anonymous">
            </script>
            <title>Add New Risk</title>
        </head>
        <body class="container mt-4">
            <div class="container add-risk-main-content p-4 rounded bg-white shadow">
                <h1>Add a New Risk</h1>
                <form action="/addrisk" method="POST">
                    <!--risk name input field-->
                    <div class="form-group">
                        <label for="name" class="form-label">Risk Name:</label>
                        <input type="text" class="form-control" id="name" name="name" required  placeholder="Unsecured API, Scope Creep, SQL Injection">
                    </div>
                    <!--risk likelihood input-->
                    <div class="form-group">
                        <label for="likelihood" class="form-label">Likelihood (1-5):</label>
                        <input type="number" class="form-control" id="likelihood" name="likelihood" min="1" max="5" required>
                    </div>
                    <!--risk impact input-->
                    <div class="form-group">
                        <label for="impact" class="form-label">Impact (1-5):</label>
                        <input type="number" class="form-control" id="impact" name="impact" min="1" max="5" required>
                    </div>
                    <!-- risk status input-->
                    <div class="form-group">
                        <label for="status" class="form-label">Status:</label>
                        <select class="form-control" id="status" name="risk_status" required>
                        <!-- selected open as default, so all new risks have open status-->
                        <option value="Open" selected>Open</option>
                        <option value="In Progress">In Progress</option>
                        <option value="Closed">Closed</option>
                        </select>
                    </div>
                    <!--risk description input-->
                    <div class="form-group">
                        <label for="name" class="form-label">Description:</label>
                        <textarea class="form-control" id="description" name="description" rows="3"  placeholder="Please add more details e.g. This API is public and lacks auth. Data may be exposed."></textarea>
                    </div>
                    <!-- assigned to user input-->
                    <div class="form-group">
                        <label for="assigned_to" class="form-label">Assign to:</label>
                        <!--insert drop down menu for users to choose another user rather than free type-->
                        <select class="form-control" id="assigned_to" name="assigned_to" required>
                            ${users.map(user => `<option value="${user.id}">${user.name}</option>`).join('')}
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="mitigation" class="form-label">Mitigation (optional):</label>
                        <textarea class="form-control" id="mitigation" name="mitigation" rows="3" placeholder="e.g. Require API tokens, validate inputs, use HTTPS..."></textarea>
                    </div>
                    <!-- Submit button -->
                    <button type="submit" class="btn btn-primary">Add Risk</button>
                </form>
            </div>
        </body>
    </html>